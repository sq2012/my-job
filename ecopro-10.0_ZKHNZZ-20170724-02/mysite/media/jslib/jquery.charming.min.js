/**
 * jQueryUI.Charming - Scrolling multiple tabs.
 * @copyright jQueryUI.Charming is licensed under the WTFPL (so feel free to relicense as needed).
 * Date: 16/05/2017
 * @author Michael 
 * @version 4.0
 * Examples:
 *    $('#example_1').tabs({paging: true});
 *    $('#example_2').tabs({paging: {options} });
 *//*
 jQueryUI.Charming is licensed under the WTFPL (so feel free to relicense as needed).
 Date: 16/05/2017
 @author Michael 
 @version 4.0
 Examples:
    $('#example_1').tabs({paging: true});
    $('#example_2').tabs({paging: {options} });
*/
(function(a){var F={animateTabs:!1,showNavWhenNeeded:!1,customNavNext:null,customNavPrev:null,customNavFirst:null,customNavLast:null,closable:!0,easing:"",loadLastTab:!1,onTabScroll:function(){},onTabClose:function(){},resizable:!1,resizeHandles:"e,s,se",scrollSpeed:0,selectTabOnAdd:!0,selectTabAfterScroll:!0,showFirstLastArrows:!0,hideDefaultArrows:!1,nextPrevOutward:!1,wrapperCssClass:"",closeTitle:"Close"};a.fn.charmingtabs=function(h){return this.each(function(){function z(){g.showNavWhenNeeded&&(u()>d.width()?l.css("visibility","visible").show():(l.css("visibility","hidden").hide(),v("f",k.first(),0)))}function w(a,e){e=e||x;return"n"==a?e[0].offsetLeft+e.outerWidth()+7>d.outerWidth()-q():0>e[0].offsetLeft-q()}function C(a){var b=q(),f=d.width(),g=u(a);0<b&&0<f-g&&f-g<b-5&&(b*=2);return"-"+(u(a)-f+b)+"px"}function v(b,e,f,d){e=e||x;var h=0;"n"==b?h=C(e):"p"==b?(b=e,h=b[0].offsetLeft-q(),h=parseFloat(b.css("margin-left"))-h+"px"):"f"==b?f=h=0:"l"==b&&(h=C(e));k.animate({"margin-left":h},g.scrollSpeed,g.easing);g.selectTabAfterScroll&&null!==f||-1<f&&A();d="undefined"==typeof d?null:d;f=g.onTabScroll;b=d;a.isFunction(f)&&f(b,e);d&&d.preventDefault()}function y(b,e){var f=g["customNav"+e]||"";"string"==typeof f&&""!=a.trim(f)&&(b=b.add(f));return b}function G(){_$navNext=p?p:a();_$navNext=y(p,"Next");_$navNext.click(function(b){a();g.selectTabAfterScroll||x.nextAll("li").each(function(){if(w("n",a(this)))return a(this),!1});b=m.tabs("option","active")+1;d.children("li");m.tabs("option","active",b)});_$navPrev=n?n:a();_$navPrev=y(n,"Prev");_$navPrev.click(function(b){a();g.selectTabAfterScroll||a(k.get().reverse()).each(function(){if(w("p",a(this)))return a(this),!1});b=m.tabs("option","active");if(0==b)return!1;m.tabs("option","active",b-1)});_$navFirst=r?r:a();_$navFirst=y(r,"First");_$navFirst.click(function(a){m.tabs("option","active",0);return!1});_$navLast=t?t:a();_$navLast=y(t,"Last");_$navLast.click(function(a){m.tabs("option","active",-1);return!1})}function A(a){d.find(".stCurrentTab").removeClass("stCurrentTab");x=d.find(".ui-tabs-active")}function D(b){g.closable&&(b||k).each(function(){if(0==a(this).find("#ui-id-1").length){var b=a(this).addClass("stHasCloseBtn");a(this).append(a("\x3cspan/\x3e").addClass("ui-state-default ui-corner-all stCloseBtn").hover(function(){a(this).toggleClass("ui-state-hover")}).append(a("\x3cspan/\x3e").addClass("ui-icon ui-icon-close").attr("title",g.closeTitle).click(function(b){var e=a(this).closest("li").remove().attr("aria-controls");a("#"+e).remove();m.tabs("refresh");d.children("li");A();z();u()>d.width()&&v("l",k.last(),0);B();var f=g.onTabClose;b="undefined"==typeof b?null:b;a.isFunction(f)&&f(b,e)}))).width(b.outerWidth())}})}function q(a){if(g.hideDefaultArrows||"hidden"==l.css("visibility"))return 0;var b=n.outerWidth()*(g.showFirstLastArrows?2:1);return a?b/2:b}function B(b){if(b){var e=b.prev("li")||k.first(),f=parseFloat(e.css("left")),f=isNaN(f)?0:f,f=f+e.outerWidth(!0)+4;b.css({left:f,"margin-left":e.css("margin-left")})}else{b=q();b=0==b?3:b+2;k.first().addClass("stFirstTab").css({left:b,"margin-left":0});var h=b;b=parseFloat(k.last().prev("li").css("margin-left"));d.find("li:not(:first)").each(function(){a(this).css("margin-left",0)[g.animateTabs?"animate":"css"]({left:h+=a(this).prev("li").outerWidth(!0)})});k.css("margin-left",b)}}function u(b){k=d.children("li");var e=0;(b?b.prevAll("li").andSelf():k).each(function(){e+=a(this).outerWidth()+parseInt(a(this).css("margin-right"),10)});b="visible"==l.css("visibility")?q():0;return ret=e>d.width()?e+b:e}var g=a.extend({},F,"object"==typeof h?h:{}),m=a(this).addClass(g.wrapperCssClass+" stMainWrapper"),d=m.find("ul.ui-tabs-nav:first"),k=d.find("li"),k=d.children("li"),l=a('\x3col class\x3d"stNavMain" /\x3e'),x=d.find(".ui-tabs-active");if(!g.hideDefaultArrows){var n=a('\x3cli class\x3d"stNavPrevArrow ui-state-active" title\x3d"Previous"\x3e\x3cspan class\x3d"ui-icon ui-icon-seek-prev"\x3ePrevious tab\x3c/span\x3e\x3c/li\x3e'),p=a('\x3cli class\x3d"stNavNextArrow ui-state-active" title\x3d"Next"\x3e\x3cspan class\x3d"ui-icon ui-icon-seek-next"\x3eNext tab\x3c/span\x3e\x3c/li\x3e'),r=g.showFirstLastArrows?a('\x3cli class\x3d"stNavFirstArrow ui-state-active" title\x3d"First"\x3e\x3cspan class\x3d"ui-icon ui-icon-seek-first"\x3eFirst tab\x3c/span\x3e\x3c/li\x3e'):a(),t=g.showFirstLastArrows?a('\x3cli class\x3d"stNavLastArrow ui-state-active" title\x3d"Last"\x3e\x3cspan class\x3d"ui-icon ui-icon-seek-end"\x3eLast tab\x3c/span\x3e\x3c/li\x3e'):a();l.append(n,r,t,p);var E=l.find("li").hover(function(){a(this).toggleClass("ui-state-active").toggleClass("ui-state-hover")})}(function(){d.height(k.first().outerHeight());d.after(l.css("visibility",g.showNavWhenNeeded?"hidden":"visible"));E&&(E.css({top:"-"+d.innerHeight()+"px",height:d.innerHeight()-3}),g.nextPrevOutward?(n.addClass("ui-corner-left"),p.addClass("ui-corner-right"),r.css("margin-left",l.find("li:first").outerWidth()),t.css("margin-right",l.find("li:first").outerWidth())):(r.addClass("ui-corner-left"),t.addClass("ui-corner-right"),g.showFirstLastArrows?n.css("margin-left",l.find("li:first").outerWidth()):n.addClass("ui-corner-left"),g.showFirstLastArrows?p.css("margin-right",l.find("li:first").outerWidth()):p.addClass("ui-corner-right")));D();z();B();G();a("#g_tabs").on("tabsactivate",function(b,e){var f=a(e.newTab);"g_tabs"==f.parent().parent().attr("id")&&(k=d.find("li"),0==f.find(".stCloseBtn").length&&(2==d.children("li").length&&d.find(".ui-icon-circle-close").show(),D(f),d=m.find("ul.ui-tabs-nav:first")),z(),B(),A(),w("n")?v("n",null,null,b):w("p")&&v("p",null,null,b))})})()})};a.fn.tabIndex=function(){return a(this).parent().find(this).index()-1};a.fn.selectTabByID=function(h){a(this).tabs("option","active",a("#"+h).tabIndex()-1);return a("#"+h).tabIndex()-1};a.fn.selectTabByIndex=function(h){a(this).tabs("option","active",h)};a.fn.tabCount=function(){return c=a(this).find("ul.ui-tabs-nav:first").children("li").length};a.fn.getIndexByID=function(h){return a("#"+h).tabIndex()-1};a.fn.getActiveTabID=function(){return a(this).find("ul.ui-tabs-nav:first").find(".ui-tabs-active").attr("aria-controls")};a.fn.closeAllTab=function(){var h=a(this).find("ul.ui-tabs-nav:first");$tmpLi=h.children("li");for(c=$tmpLi.length;1<c;)panelId=$tmpLi.last().remove().attr("aria-controls"),a("#"+panelId).remove(),$tmpLi=h.children("li"),c=$tmpLi.length}})(jQuery);